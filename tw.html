<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://d3js.org/d3.v5.min.js"></script>
  </head>
  <body>
    <script
      type="text/javascript"
      src="http://d3js.org/topojson.v1.min.js"
    ></script>
    <script>
      function renderTWMap() {
        d3.json("./data/tw/state.json").then(function (topodata) {
          const features = topojson.feature(topodata, topodata.objects.county)
            .features;
          const projection = d3
            .geoMercator()
            .center([118, 26])
            .scale([5000])
            .translate([0, 0])
            .precision([0.1]);
          const path = d3.geoPath().projection(projection);
          var svg = d3
            .select("body")
            .append("svg")
            .attr("width", 900)
            .attr("height", 600);
          svg
            .selectAll("path")
            .data(features)
            .enter()
            .append("path")
            .attr("d", path)
            .attr("fill", "teal")
            .on("mouseover", function (d) {
              d3.select(this).attr("fill-opacity", 0.6);
            })
            .on("mouseout", function (d) {
              d3.select(this).attr("fill-opacity", 1);
            });
        });
      }
    </script>
  </body>
</html>
